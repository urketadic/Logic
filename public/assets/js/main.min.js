function initTimeline(a){a.each(function(){var a=$(this),b={};b.timelineWrapper=a.find(".events-wrapper"),b.eventsWrapper=b.timelineWrapper.children(".events"),b.fillingLine=b.eventsWrapper.children(".filling-line"),b.timelineEvents=b.eventsWrapper.find("a"),b.timelineDates=parseDate(b.timelineEvents),b.eventsMinLapse=minLapse(b.timelineDates),b.timelineNavigation=a.find(".cd-timeline-navigation"),b.eventsContent=a.children(".events-content"),setDatePosition(b,eventsMinDistance);var c=setTimelineWidth(b,eventsMinDistance);a.addClass("loaded"),b.timelineNavigation.on("click",".next",function(a){a.preventDefault(),updateSlide(b,c,"next"),showNewContent(b,c,"next")}),$(".nextbtn").on("click",function(a){a.preventDefault(),updateSlide(b,c,"next"),showNewContent(b,c,"next"),document.getElementById("topofpage").scrollIntoView()}),b.timelineNavigation.on("click",".prev",function(a){a.preventDefault(),updateSlide(b,c,"prev"),showNewContent(b,c,"prev")}),b.eventsWrapper.on("click","a",function(a){a.preventDefault(),b.timelineEvents.removeClass("selected"),$(this).addClass("selected"),updateOlderEvents($(this)),updateFilling($(this),b.fillingLine,c),updateVisibleContent($(this),b.eventsContent)}),b.eventsContent.on("swipeleft",function(){var a=checkMQ();"mobile"==a&&showNewContent(b,c,"next")}),b.eventsContent.on("swiperight",function(){var a=checkMQ();"mobile"==a&&showNewContent(b,c,"prev")}),$(document).keyup(function(d){"37"==d.which&&elementInViewport(a.get(0))?showNewContent(b,c,"prev"):"39"==d.which&&elementInViewport(a.get(0))&&showNewContent(b,c,"next")})})}function updateSlide(a,b,c){var d=getTranslateValue(a.eventsWrapper),e=Number(a.timelineWrapper.css("width").replace("px",""));"next"==c?translateTimeline(a,d-e+eventsMinDistance,e-b):translateTimeline(a,d+e-eventsMinDistance)}function showNewContent(a,b,c){var d=a.eventsContent.find(".selected"),e="next"==c?d.next():d.prev();if(e.length>0){var f=a.eventsWrapper.find(".selected"),g="next"==c?f.parent("li").next("li").children("a"):f.parent("li").prev("li").children("a");updateFilling(g,a.fillingLine,b),updateVisibleContent(g,a.eventsContent),g.addClass("selected"),f.removeClass("selected"),updateOlderEvents(g),updateTimelinePosition(c,g,a)}}function updateTimelinePosition(a,b,c){var d=window.getComputedStyle(b.get(0),null),e=Number(d.getPropertyValue("left").replace("px","")),f=Number(c.timelineWrapper.css("width").replace("px","")),g=Number(c.eventsWrapper.css("width").replace("px","")),h=getTranslateValue(c.eventsWrapper);("next"==a&&e>f-h||"prev"==a&&e<-h)&&translateTimeline(c,-e+f/2,f-g)}function translateTimeline(a,b,c){var d=a.eventsWrapper.get(0);b=b>0?0:b,b="undefined"!=typeof c&&b<c?c:b,setTransformValue(d,"translateX",b+"px"),0==b?a.timelineNavigation.find(".prev"):a.timelineNavigation.find(".prev").removeClass("inactive"),b==c?a.timelineNavigation.find(".next"):a.timelineNavigation.find(".next").removeClass("inactive")}function updateFilling(a,b,c){var d=window.getComputedStyle(a.get(0),null),e=d.getPropertyValue("left"),f=d.getPropertyValue("width");e=Number(e.replace("px",""))+Number(f.replace("px",""))/2;var g=e/c;setTransformValue(b.get(0),"scaleX",g)}function setDatePosition(a,b){for(i=0;i<a.timelineDates.length;i++){var c=daydiff(a.timelineDates[0],a.timelineDates[i]),d=Math.round(c/a.eventsMinLapse)+2;a.timelineEvents.eq(i).css("left",d*b+"px")}}function setTimelineWidth(a,b){var c=daydiff(a.timelineDates[0],a.timelineDates[a.timelineDates.length-1]),d=c/a.eventsMinLapse,d=Math.round(d)+4,e=d*b;return a.eventsWrapper.css("width",e+"px"),updateFilling(a.eventsWrapper.find("a.selected"),a.fillingLine,e),updateTimelinePosition("next",a.eventsWrapper.find("a.selected"),a),e}function updateVisibleContent(a,b){var c=a.data("date"),d=b.find(".selected"),e=b.find('[data-date="'+c+'"]'),f=e.height();if(e.index()>d.index())var g="selected enter-right",h="leave-left";else var g="selected enter-left",h="leave-right";e.attr("class",g),d.attr("class",h).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){d.removeClass("leave-right leave-left"),e.removeClass("enter-left enter-right")}),b.css("height",f+"px")}function updateOlderEvents(a){a.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function getTranslateValue(a){var b=window.getComputedStyle(a.get(0),null),c=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");if(c.indexOf("(")>=0){var c=c.split("(")[1];c=c.split(")")[0],c=c.split(",");var d=c[4]}else var d=0;return Number(d)}function setTransformValue(a,b,c){a.style["-webkit-transform"]=b+"("+c+")",a.style["-moz-transform"]=b+"("+c+")",a.style["-ms-transform"]=b+"("+c+")",a.style["-o-transform"]=b+"("+c+")",a.style.transform=b+"("+c+")"}function parseDate(a){var b=[];return a.each(function(){var a=$(this),c=a.data("date").split("T");if(c.length>1)var d=c[0].split("/"),e=c[1].split(":");else if(c[0].indexOf(":")>=0)var d=["2000","0","0"],e=c[0].split(":");else var d=c[0].split("/"),e=["0","0"];var f=new Date(d[2],d[1]-1,d[0],e[0],e[1]);b.push(f)}),b}function daydiff(a,b){return Math.round(b-a)}function minLapse(a){var b=[];for(i=1;i<a.length;i++){var c=daydiff(a[i-1],a[i]);b.push(c)}return Math.min.apply(null,b)}function elementInViewport(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}function checkMQ(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}function fn_siteNavAnimation(){var a=$(".site-nav");$("body").toggleClass("nav-in"),$("body").hasClass("nav-in")?(a.velocity("stop",!0).velocity("fadeIn",{duration:100}),$(".site-nav__inner").velocity("stop",!0).velocity({translateY:["0","-25%"],rotateX:["0deg","35deg"],opacity:["1",".4"]},{duration:100})):(a.velocity("stop",!0).velocity("fadeOut",{duration:100}),$(".site-nav__inner").velocity("stop",!0).velocity({translateY:["25%","0"],rotateX:["-35deg","0deg"],opacity:[".4","1"]},{duration:100}))}var $=jQuery.noConflict();!function(a){"use strict";function j(){var d;d="#"+a(".section").filter(".is-active").attr("id"),a('[data-link="'+d+'"]').addClass("is-active"),s(),b.hasClass("cssanimations")&&a(d).find("[data-animation-in]").each(function(){var b=a(this),c="fadeIn",d=1;b.data("animation-in")&&(c=b.data("animation-in")),b.data("animation-in-delay")&&(d=b.data("animation-in-delay")),b.css("animation-delay",d+500+"ms").addClass("animated").addClass(c)}),_section_change_loader||c.addClass("is-site-loader-off"),_site_bg_overlay_toggle?c.addClass("is-overlay-on"):c.addClass("is-overlay-off"),a(".site-bg__overlay").css("background-color",_site_bg_overlay_color),c.addClass(d.replace("#","")+"-in"),a("a[href=#]").on("click",function(a){a.preventDefault()}),a(".site-footer__social").clone().removeClass("site-footer__social").addClass("site-nav__social").insertAfter(".site-nav__menu"),_site_border?c.addClass("is-border-on"):c.addClass("is-border-off")}function k(){var b=a("#countdown_dashboard");_countdown?b.length&&(c.addClass("is-countdown-on"),b.countDown({targetDate:{day:_countdown_date[2],month:_countdown_date[1],year:_countdown_date[0],hour:0,min:0,sec:0,utc:_countdown_utc},omitWeeks:!0})):c.addClass("is-countdown-off")}function l(){var b=a("[data-size]");b.each(function(){var b=a(this);b.css({width:b.data("size"),height:b.data("size")})})}function m(){a(".site-loader").velocity("fadeOut",{queue:!1,delay:0,duration:0,complete:function(){c.addClass("is-loaded"),a(document).trigger("is-loaded")}})}function n(){a(".site-header__icon__nav").find("a").add(e).on("click",function(a){a.preventDefault(),o()})}function o(){var b=a(".site-nav");c.toggleClass("nav-in"),c.hasClass("nav-in")?(b.velocity("stop",!0).velocity("fadeIn",{duration:100}),a(".site-nav__inner").velocity("stop",!0).velocity({translateY:["0","-25%"],rotateX:["0deg","35deg"],opacity:["1",".4"]},{duration:100})):(b.velocity("stop",!0).velocity("fadeOut",{duration:100}),a(".site-nav__inner").velocity("stop",!0).velocity({translateY:["25%","0"],rotateX:["-35deg","0deg"],opacity:[".4","1"]},{duration:100}))}function p(){var d=a(".section"),e=[];d.each(function(){e.push(this.id)}),f.on("click",function(g){var h=a(this),i=h.data("link"),j=1;return g.preventDefault(),!(!a(i).length||h.hasClass("is-active"))&&void(c.hasClass("is-loaded")&&(c.hasClass("animating")||(f.filter(".is-active").removeClass("is-active"),r(),b.hasClass("cssanimations")&&d.filter(".is-active").find("[data-animation-out]").each(function(){var b=a(this).data("animation-out-delay");b&&(j=b>j?b:j)}),a(".site-loader").velocity("fadeIn",{queue:!1,delay:j+400,duration:300,complete:function(){c.removeClass("animating"),a(".site-wrap").scrollTop(0),a(".site-wrap").perfectScrollbar("update"),a(".section").filter(".is-active").removeClass("is-active"),a(i).addClass("is-active"),a('[data-link="'+i+'"]').addClass("is-active"),a.each(e,function(a,b){c.removeClass(b+"-in")}),c.addClass(i.replace("#","")+"-in"),a(".form-group").removeClass("error"),a(".form-notify").removeClass("success error").html("").hide(),_section_change_loader?a(this).velocity("fadeOut",{delay:100,duration:800}):a(this).velocity("fadeOut",{delay:100,duration:100}),setTimeout(function(){s(),q()},0)}}))))})}function q(){var b=a(".section").filter(".is-active");b.find("[data-animation-in]").each(function(){var b=a(this),c="fadeIn",d=100;b.data("animation-in")&&(c=b.data("animation-in")),b.data("animation-in-delay")&&(d=b.data("animation-in-delay")),b.css("animation-delay",d+"ms").addClass("animated").addClass(c)})}function r(){c.addClass("animating"),a("[data-animation-out]").each(function(){var b=a(this),c="fadeIn",d="fadeOut",e=100,f=1;b.data("animation-in")&&(c=b.data("animation-in")),b.data("animation-out")&&(d=b.data("animation-out")),b.data("animation-in-delay")&&(e=b.data("animation-in-delay")),b.data("animation-out-delay")&&(f=b.data("animation-out-delay")),b.css("animation-delay",e+"ms"),b.closest(".section").hasClass("is-active")?(b.removeClass(c).addClass(d),b.data("animation-out-delay")?b.css("animation-delay",f+"ms"):b.css("animation-delay","1ms")):b.removeClass(c).removeClass(d).removeAttr("style","animation-delay")})}function s(){var b=a(".site-wrap");h||b.perfectScrollbar({suppressScrollX:!0})}function t(){var b=a('[data-mfp-type="mix"]'),c=a('[data-mfp-type="inline"]');c.magnificPopup({midClick:!0,removalDelay:150,preloader:!1,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-mfp-effect")}}}),b.each(function(){a(this).magnificPopup({delegate:"a[data-mfp-type]",type:"image",gallery:{enabled:!0,preload:[0,2],navigateByImgClick:!0,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},mainClass:"mfp-effect",midClick:!0,removalDelay:150,preloader:!1})})}function u(){var b=a("#formContact"),c=b.find(".form-notify");b.validate({onclick:!1,onfocusout:!1,onkeyup:!1,rules:{name:{required:!0},email:{required:!0,email:!0},message:{required:!0}},errorPlacement:function(a,b){},highlight:function(b){a(b).parent(".form-group").addClass("error")},unhighlight:function(b){a(b).parent(".form-group").removeClass("error")},submitHandler:function(d){a.ajax({type:"POST",dataType:"json",url:"assets/php/contact.php",cache:!1,data:b.serialize(),success:function(a){"success"!=a.type?c.html(a.msg).show():(b.validate().resetForm(),b[0].reset(),b.find(".error").removeClass("error"),b.find("button").blur(),c.html(a.msg).show())},error:function(a,b,d){c.html('<i class="error"></i> An error occurred. Please try again later.').show()}})},invalidHandler:function(a,b){var d=b.numberOfInvalids();if(d){var e=1==d?'<i class="error"></i> You missed 1 field. It has been highlighted.':'<i class="error"></i> You missed '+d+" fields. They have been highlighted.";c.html(e).show()}}})}function v(){var b=a("#formSubscribe"),c=b.find(".form-notify");b.validate({onclick:!1,onfocusout:!1,onkeyup:!1,rules:{email:{required:!0,email:!0}},errorPlacement:function(a,b){},highlight:function(b){a(b).parent(".form-group").addClass("error")},unhighlight:function(b){a(b).parent(".form-group").removeClass("error")},submitHandler:function(d){a.ajax({type:"POST",dataType:"json",url:"assets/php/subscribe.php",cache:!1,data:b.serialize(),success:function(a){"success"!=a.type?c.html(a.msg).show():(b.validate().resetForm(),b[0].reset(),b.find(".error").removeClass("error"),b.find("button").blur(),c.html(a.msg).show())},error:function(a,b,d){c.html('<i class="error"></i> An error occurred. Please try again later.').show()}})},invalidHandler:function(a,b){var d=b.numberOfInvalids();if(d){var e=1==d?'<i class="error"></i> You missed 1 field. It has been highlighted.':'<i class="error"></i> You missed '+d+" fields. They have been highlighted.";c.html(e).show()}}})}function w(){h?3==_bg_style_mobile||4==_bg_style_mobile?x():5!=_bg_style_mobile&&6!=_bg_style_mobile&&7!=_bg_style_mobile&&8!=_bg_style_mobile||a(window).on("load",function(){y()}):3==_bg_style_desktop||4==_bg_style_desktop?x():5==_bg_style_desktop||6==_bg_style_desktop||7==_bg_style_desktop||8==_bg_style_desktop?y():9==_bg_style_desktop||10==_bg_style_desktop||11==_bg_style_desktop?z():12!=_bg_style_desktop&&13!=_bg_style_desktop&&14!=_bg_style_desktop||A()}function x(){a(".site-bg__video").remove(),c.addClass("is-site-bg-img")}function y(){function e(){b.ss({fullscreen:!0,duration:_bg_slideshow_duration,fadeInDuration:1500})}function f(){b.kenburnsy({fullscreen:!0,duration:_bg_slideshow_duration,fadeInDuration:1500})}var b=a(".site-bg__img");a(".site-bg__video").remove(),c.addClass("is-site-bg-slideshow");for(var d=1;d<=_bg_slideshow_image_amount;d++)b.append('<img src="assets/img/bg/site-bg-slideshow-'+(d<10?"0"+d:d)+'.jpg">');h?5==_bg_style_mobile||6==_bg_style_mobile?e():7!=_bg_style_mobile&&8!=_bg_style_mobile||f():5==_bg_style_desktop||6==_bg_style_desktop?e():7!=_bg_style_desktop&&8!=_bg_style_desktop||f()}function z(){var b=a(".site-bg__video"),d=a(".site-header__icon__audio");c.addClass("is-site-bg-video"),b.append('<video id="videoPlayer" autoplay loop><source src="assets/video/video.mp4" type="video/mp4"></video>');var e=document.getElementById("videoPlayer");9==_bg_style_desktop?(e.muted=!0,d.remove()):10==_bg_style_desktop&&(c.addClass("is-audio-on"),d.on("click",function(){c.hasClass("is-audio-on")?(e.muted=!0,c.removeClass("is-audio-on").addClass("is-audio-off")):c.hasClass("is-audio-off")&&(e.muted=!1,c.removeClass("is-audio-off").addClass("is-audio-on"))}))}function A(){var b=a(".site-bg__video"),d=a(".site-header__icon__audio");c.addClass("is-site-bg-video-youtube"),12==_bg_style_desktop||14==_bg_style_desktop?(b.attr("data-property",'{videoURL: _bg_video_youtube_url, autoPlay: true, loop: _bg_video_youtube_loop, startAt: _bg_video_youtube_start, stopAt: _bg_video_youtube_end, mute: true, quality: _bg_video_youtube_quality, realfullscreen: true, optimizeDisplay: true, addRaster: false, showYTLogo: false, showControls: false, stopMovieOnBlur: false, containment: "self"}'),b.YTPlayer()):(b.attr("data-property",'{videoURL: _bg_video_youtube_url, autoPlay: true, loop: _bg_video_youtube_loop, startAt: _bg_video_youtube_start, stopAt: _bg_video_youtube_end, mute: false, quality: _bg_video_youtube_quality, realfullscreen: true, optimizeDisplay: true, addRaster: false, showYTLogo: false, showControls: false, stopMovieOnBlur: false, containment: "self"}'),b.YTPlayer(),c.addClass("is-audio-on"),d.on("click",function(){c.hasClass("is-audio-on")?(b.YTPMute(),c.removeClass("is-audio-on").addClass("is-audio-off")):c.hasClass("is-audio-off")&&(b.YTPUnmute(),c.removeClass("is-audio-off").addClass("is-audio-on"))}))}function B(){function d(){var b=a(".site-header__icon__audio"),d=document.getElementById("audioPlayer");b.on("click",function(){a(this);c.hasClass("is-audio-off")?(d.play(),c.removeClass("is-audio-off").addClass("is-audio-on")):c.hasClass("is-audio-on")&&(d.pause(),c.removeClass("is-audio-on").addClass("is-audio-off"))})}if(2!=_bg_style_mobile&&4!=_bg_style_mobile&&6!=_bg_style_mobile&&8!=_bg_style_mobile&&2!=_bg_style_desktop&&4!=_bg_style_desktop&&6!=_bg_style_desktop&&8!=_bg_style_desktop&&11!=_bg_style_desktop&&14!=_bg_style_desktop||c.append('<audio id="audioPlayer" loop><source src="assets/audio/audio.mp3" type="audio/mpeg"></audio>'),h)2!=_bg_style_mobile&&4!=_bg_style_mobile&&6!=_bg_style_mobile&&8!=_bg_style_mobile||(c.addClass("is-audio-off"),d());else if(2==_bg_style_desktop||4==_bg_style_desktop||6==_bg_style_desktop||8==_bg_style_desktop||11==_bg_style_desktop||14==_bg_style_desktop){var b=document.getElementById("audioPlayer");c.addClass("is-audio-off"),b.pause(),d()}}function C(){0==_bg_effect||(1==_bg_effect?a(window).on("load",function(){D()}):2==_bg_effect?a(window).on("load",function(){H()}):3==_bg_effect?a(window).on("load",function(){L()}):4==_bg_effect?a(window).on("load",function(){M()}):5==_bg_effect?a(window).on("load",function(){N()}):6==_bg_effect&&a(window).on("load",function(){O()}))}function D(){var b=a(".site-bg__effect");b.length&&(b.append('<div class="cloud"></div><div class="cloud"></div><div class="cloud"></div>'),c.addClass("is-site-bg-cloud"),E(),F(),G(),b.velocity({translateZ:"0",opacity:[_cloud_opacity,"0"]},{display:"block",duration:3e3})),a(document).trigger("is-bg-animation-loaded")}function E(){var b=a(".cloud:nth-child(1)");b.velocity({translateZ:"0",translateX:["-100%","100%"]},{duration:25e3,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateX:"100%"},{duration:0,queue:!1,complete:E})}})}function F(){var b=a(".cloud:nth-child(2)");b.velocity({translateZ:"0",translateX:["-100%","100%"]},{duration:35e3,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateX:"100%"},{duration:0,queue:!1,complete:F})}})}function G(){var b=a(".cloud:nth-child(3)");b.velocity({translateZ:"0",translateX:["-100%","100%"]},{duration:45e3,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateX:"100%"},{duration:0,queue:!1,complete:G})}})}function H(){var b=a(".site-bg__effect");b.length&&(b.append('<div class="star"></div><div class="star"></div><div class="star"></div>'),c.addClass("is-site-bg-parallax-star"),I(),J(),K(),b.velocity({translateZ:"0",opacity:[_parallax_star_opacity,"0"]},{display:"block",duration:3e3})),a(document).trigger("is-bg-animation-loaded")}function I(){var b=a(".star:nth-child(1)");b.velocity({translateZ:"0",translateY:["-2000px","0"]},{duration:5e4,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateY:"0"},{duration:0,queue:!1,complete:I})}})}function J(){var b=a(".star:nth-child(2)");b.velocity({translateZ:"0",translateY:["-2000px","0"]},{duration:1e5,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateY:"0"},{duration:0,queue:!1,complete:J})}})}function K(){var b=a(".star:nth-child(3)");b.velocity({translateZ:"0",translateY:["-2000px","0"]},{duration:15e4,easing:"linear",queue:!1,complete:function(){a(this).velocity({translateY:"0"},{duration:0,queue:!1,complete:K})}})}function L(){c.addClass("is-site-bg-star"),a(".site-bg__effect").remove(),particlesJS("siteBg",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:3},image:{src:"",width:100,height:100}},opacity:{value:_star_opacity,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:2,random:!0,anim:{enable:!0,speed:1,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:_star_direction,random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),a(document).trigger("is-bg-animation-loaded")}function M(){c.addClass("is-site-bg-bubble"),a(".site-bg__effect").remove(),particlesJS("siteBg",{particles:{number:{value:6,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"polygon",stroke:{width:0,color:"#000"},polygon:{nb_sides:6},image:{src:"",width:100,height:100}},opacity:{value:_bubble_opacity,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:160,random:!1,anim:{enable:!0,speed:10,size_min:40,sync:!1}},line_linked:{enable:!1,distance:200,color:"#ffffff",opacity:1,width:2},move:{enable:!0,speed:8,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),a(document).trigger("is-bg-animation-loaded")}function N(){c.addClass("is-site-bg-snow"),a(".site-bg__effect").remove(),particlesJS("siteBg",{particles:{number:{value:200,density:{enable:!0,value_area:1e3}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:.84,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:500,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:_snow_speed,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:4,duration:.3,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),a(document).trigger("is-bg-animation-loaded")}function O(){c.addClass("is-site-bg-particles"),a(".site-bg__effect").remove(),particlesJS("siteBg",{particles:{number:{value:60,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:_particles_opacity,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:_particles_line_opacity,width:1},move:{enable:!0,speed:_particles_speed,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}),a(document).trigger("is-bg-animation-loaded")}function P(){function b(){var b=[];a(".section").each(function(){b.push(g+"/bg/"+this.id+".jpg")});var e,d=[];for(e=0;e<b.length;e++){var f=new Image;f.src=b[e],d[e]=f}var h=imagesLoaded(d);c.addClass("is-each"),a(".site-bg__video").remove(),h.on("always",function(a){m()})}h?1==_bg_style_mobile||2==_bg_style_mobile?b():m():1==_bg_style_desktop||2==_bg_style_desktop?b():m()}function Q(){!_bg_animation_parallax||h||i||0==_bg_effect||(c.addClass("is-bg-animation-parallax-on"),a(document).one("is-bg-animation-loaded",function(){var b=a(".particles-js-canvas-el"),c=a(".site-bg");a(".site-bg__effect").add(b).each(function(){var b=a(this);b.length&&b.addClass("layer").attr("data-depth",_bg_animation_parallax_depth)}),c.parallax("enable")}))}function R(){a.fn.ccarousel=function(a){this.owlCarousel({rewind:!0,nav:!0,navText:["",""],navContainer:a,navContainerClass:"carousel-nav",navClass:["carousel-prev","carousel-next"],dots:!1,margin:30,responsive:{0:{items:1},768:{items:2},992:{items:3}}})};var b=a("#serviceCarousel, #portfolioCarousel");b.each(function(){var b=a(this);b.ccarousel("#"+b.attr("id")+"__control")}),a(".carousel__item-figure").on("mouseenter",function(){var b=a(this);b.addClass("hover"),b.parents(".carousel").addClass("carousel-hover")}),a(".carousel__item-figure").on("mouseleave",function(){var b=a(this);b.removeClass("hover"),b.parents(".carousel").removeClass("carousel-hover")})}var b=a("html"),c=a("body"),d=a(".btn[data-link]"),e=a(".site-nav__menu").find("[data-link]"),f=d.add(e),g="assets/img";if(function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var a=document.createElement("style");a.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(a)}}(),b.hasClass("desktop")){var h=!1;b.addClass("is-desktop")}else{var h=!0;b.addClass("is-mobile")}if(b.hasClass("ie9"))var i=!0;a(document).on("ready",function(){j();var b;b=!!a("body").hasClass("is-audio-on"),(b=!0)?a("#videoPlayer").mute=!1:(a("body").addClass("is-audio-off"),a("#videoPlayer").mute=!0)}),k(),l(),n(),p(),t(),u(),v(),w(),B(),C(),a(window).on("load",function(){P()}),Q(),R()}(jQuery);var timelines=$(".cd-horizontal-timeline"),eventsMinDistance=60;timelines.length>0&&initTimeline(timelines);var Modal={selector:"[data-modal]",content:"[data-modal-content]",btnOpen:"[data-modal-open]",btnClose:"[data-modal-close]",classVisible:"is-visible",currBtnOpen:{},init:function(){document.querySelectorAll(this.selector).length&&this.loopSelectors()},loopSelectors:function(){for(var a=document.querySelectorAll(this.btnOpen),b=0;b<a.length;b++)this.bindOpenClickEvent(a[b])},bindOpenClickEvent:function(a){window.modalOpenClickEvent=function(){Modal.openEvent(a)},a.addEventListener("click",modalOpenClickEvent)},bindCloseClickEvent:function(a){window.modalCloseClickEvent=function(){Modal.closeEvent(a)},a.addEventListener("click",modalCloseClickEvent)},bindCloseKeyEvent:function(a,b){document.onkeydown=function(c){27===c.keyCode&&(Modal.closeModal(a),Modal.setOpenEventBindings(b))}},unbindClickEvent:function(a,b){a.removeEventListener("click",b)},unbindKeyEvent:function(){document.onkeydown=null},setCloseEventBindings:function(a,b,c){this.unbindClickEvent(b,window.modalOpenClickEvent),this.bindCloseClickEvent(c),this.bindCloseKeyEvent(a,c)},setOpenEventBindings:function(a){this.unbindClickEvent(a,window.modalCloseClickEvent),this.unbindKeyEvent(),this.bindOpenClickEvent(this.currBtnOpen),this.currBtnOpen.focus()},openEvent:function(a){var b=a.dataset.modalOpen,c=this.getModal(b),d=c.querySelector(this.btnClose);this.currBtnOpen=a,this.openModal(c),this.setCloseEventBindings(c,a,d)},closeEvent:function(a){var b=a.dataset.modalClose,c=this.getModal(b);this.closeModal(c),this.setOpenEventBindings(a)},openModal:function(a){a.querySelector(this.content).scrollTop=0,a.classList.add(this.classVisible),setTimeout(function(){a.tabIndex=0,a.focus()},150)},closeModal:function(a){a.classList.remove(this.classVisible)},getModal:function(a){return document.querySelector('[data-modal="'+a+'"]')}};Modal.init(),$(".modal").click(function(){$(this).removeClass(Modal.classVisible)}),$(".modal__content").click(function(a){return a.stopPropagation(),!1}),$(".modal__content").scroll(function(a){return a.stopPropagation(),!1}),$(".navigationbutton").on("click",function(){$("#container").show(),$(".branch").hide(),$("#backbutton").hide()}),$(".backbutton").on("click",function(){$("#container").show(),$(".branch").hide(),$("#backbutton").hide()}),$("#reality").on("click",function(){$("#container").hide(),$("#realitybranch").show(),$("#backbutton").show()}),$("#neuroscience").on("click",function(){$("#container").hide(),$("#neurosciencebranch").show(),$("#backbutton").show()}),$("#identity").on("click",function(){$("#container").hide(),$("#identitybranch").show(),$("#backbutton").show()}),$("#eintelligence").on("click",function(){$("#container").hide(),$("#eintelligencebranch").show(),$("#backbutton").show()}),$(".site-nav__table").on("click",function(){fn_siteNavAnimation()});